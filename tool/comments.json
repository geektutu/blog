[{"title":"åŠ¨æ‰‹å†™åˆ†å¸ƒå¼ç¼“å­˜ - GeeCacheç¬¬äºŒå¤© å•æœºå¹¶å‘ç¼“å­˜","url":"/post/geecache-day2.html","count":74,"user":"weiyi-ch","icon":"https://avatars.githubusercontent.com/u/206409137?v=4","date":"1æœˆå‰","body":"day2éš¾åº¦æœ‰ç‚¹å¤§ï¼Œä»Šæ—¥ç¬”è®°ï¼š é¦–å…ˆå®šä¹‰ä¸€ä¸ªByteViewç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“çš„ä½œç”¨æ˜¯é˜²æ­¢ç”¨æˆ·ç›´æ¥ä¿®æ”¹ç¼“å­˜æ•°æ®ï¼Œcacheè¿”å›çš„å€¼éƒ½æ˜¯ByteViewç±»å‹ï¼Œå…¶ä¸­b []byteå°å†™å¯¹ç”¨æˆ·ä¸å¯è§ï¼Œæƒ³è¦å¾—åˆ°å…¶ä¸­å†…å®¹åªèƒ½è°ƒç”¨ByteSlice()å¾—åˆ°å¤åˆ¶çš„å†…å®¹ã€‚å®ç°ç”¨æˆ·æ— æ³•ç›´æ¥ä¿®æ”¹ç¼“å­˜å€¼ã€‚ ç„¶åå®šä¹‰ä¸€ä¸ªcacheç»“æ„ä½“ï¼ŒåŒ…å«ä¸€ä¸ªäº’æ–¥é”å’Œlruå®ä¾‹ï¼Œå½“åœ¨cacheä¸­æ·»åŠ æˆ–è€…æŸ¥è¯¢å€¼æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨lru.cacheä¸­æ“ä½œï¼Œè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™ä¸€å±‚ä¸ç”¨è¯»å†™é”ï¼Œå› ä¸ºè¯»å¯¼è‡´lruåŒå‘é“¾è¡¨ç»“æ„æ”¹å˜å› æ­¤è¦ç”¨äº’æ–¥é”ï¼Œé¿å…é“¾è¡¨ç»“æ„æ··ä¹±ã€‚ æœ€åå°±æ˜¯groupå±‚ï¼Œè·å–å€¼è‚¯å®šä¼šé‡è§ç¼“å­˜æœªå‘½ä¸­æƒ…å†µï¼Œå› æ­¤åœ¨ä¸€ä¸ªgruopä¸­å¿…é¡»å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†æœªå‘½ä¸­çš„æƒ…å†µï¼Œè¿™é‡Œå®šä¹‰ä¸€ä¸ªæ¥å£ç±»å‹GetteråŒ…æ‹¬Getæ–¹æ³•ï¼Œå†å®šä¹‰ä¸€ä¸ªå‡½æ•°GetterFunc å®ç°Getæ–¹æ³•ï¼Œå› æ­¤å®ƒå°±æ˜¯è¿™ä¸ªæ¥å£ç±»å‹çš„å˜é‡ï¼Œæˆä¸ºæ¥å£å‹å‡½æ•°ï¼Œæˆ‘çš„ç†è§£æ˜¯å¯ä»¥å°†ç”¨æˆ·ä¼ æ¥çš„å‡½æ•°ç”¨GetterFuncåŒ…è£…ï¼Œè‡ªç„¶å®ç°Getæ–¹æ³•ï¼Œè°ƒç”¨Getæ—¶è¿”å›çš„å®é™…ç”¨æˆ·ä¼ æ¥å‡½æ•°å¯¹åº”å¤„ç†ç»“æœã€‚å¥½å¤„ï¼šç”¨äº†æ¥å£ï¼Œä½ å¯ä»¥æ—¢æ”¯æŒå‡½æ•°ï¼ˆé€šè¿‡ GetterFuncï¼‰ï¼Œåˆæ”¯æŒå¤æ‚çš„ç»“æ„ä½“å¯¹è±¡ã€‚groupè°ƒç”¨cacheæ–¹æ³•è¿›è¡Œè¯»æ•°æ®ï¼ŒåŠ äº†ä¸€æŠŠè¯»å†™é”é˜²æ­¢groupsä¸­æŸä¸ªgroupè¯»çš„æ—¶å€™è¢«æ”¹å˜ç­‰å†²çªå¯¼è‡´å´©æºƒï¼Œæˆ–è€…æ–°å¢gruopæ—¶è¢«è¯»å†™ï¼Œåé¢å®ç°åœ¨groupå±‚çš„è·å–ï¼ŒåŒ…æ‹¬å‘½ä¸­ç¼“å­˜ç›´æ¥è¿”å›ï¼Œä»¥åŠæœªå‘½ä¸­ç¼“å­˜æ‰§è¡Œå›è°ƒå‡½æ•°å®ç°åŠ è½½æ•°æ®ï¼Œä»¥åŠè®°å½•æ•°æ®åˆ°ç¼“å­˜ä¸­ã€‚"},{"title":"åŠ¨æ‰‹å†™åˆ†å¸ƒå¼ç¼“å­˜ - GeeCacheç¬¬ä¸€å¤© LRU ç¼“å­˜æ·˜æ±°ç­–ç•¥","url":"/post/geecache-day1.html","count":93,"user":"weiyi-ch","icon":"https://avatars.githubusercontent.com/u/206409137?v=4","date":"1æœˆå‰","body":"day1: // q1:â€œä¸ºä»€ä¹ˆ Map çš„å€¼ä¸ç›´æ¥å­˜æ•°æ®ï¼Œè€Œè¦å­˜ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹å‘¢ï¼Ÿâ€ // a1:åœ¨lruç¼“å­˜ä¸­ä¸ä»…è¦æŸ¥æ‰¾ï¼Œè¿˜éœ€è¦ç§»åŠ¨å¿«ã€‚åœ¨æ¥äº†ä¸€ä¸ªè¯·æ±‚ä»¥åç¼“å­˜å‘½ä¸­å‘½ä¸­ï¼Œåšåˆ°Oï¼ˆ1ï¼‰æŸ¥è¯¢ // åŒæ—¶è¿˜éœ€è¦æŠŠç”¨è¿‡çš„æ”¾åˆ°é˜Ÿå°¾ï¼Œå› æ­¤ç›´æ¥å­˜é“¾è¡¨èŠ‚ç‚¹æ–¹ä¾¿æ“ä½œã€‚ // q2:æ—¢ç„¶ Map é‡Œå·²ç»æœ‰ Key äº†ï¼Œä¸ºä»€ä¹ˆé“¾è¡¨èŠ‚ç‚¹é‡Œè¿˜è¦å†å­˜ä¸€æ¬¡ Key // a2:åœ¨ç§»é™¤é˜Ÿé¦–å…ƒç´ æ—¶åŒæ—¶éœ€è¦åˆ é™¤mapä¸­å…ƒç´ ï¼Œå› æ­¤å­˜ä¸€ä¸ªkeyæ–¹ä¾¿Oï¼ˆ1ï¼‰æ—¶é—´åšåˆ°åˆ é™¤ã€‚ ä»£ç ï¼šåšäº†ä¸€äº›ä¿®æ”¹ï¼Œfrontä¸ºé˜Ÿé¦–ï¼Œbackä¸ºé˜Ÿå°¾ï¼Œæ¯æ¬¡ç§»é™¤é˜Ÿé¦–å…ƒç´ ï¼Œé˜Ÿå°¾ä½œä¸ºæœ€è¿‘ä½¿ç”¨çš„å…ƒç´ ã€‚ package lru import ( \"container/list\" ) // q1:â€œä¸ºä»€ä¹ˆ Map çš„å€¼ä¸ç›´æ¥å­˜æ•°æ®ï¼Œè€Œè¦å­˜ä¸€ä¸ªé“¾è¡¨èŠ‚ç‚¹å‘¢ï¼Ÿâ€ // a1:åœ¨lruç¼“å­˜ä¸­ä¸ä»…è¦æŸ¥æ‰¾ï¼Œè¿˜éœ€è¦ç§»åŠ¨å¿«ã€‚åœ¨æ¥äº†ä¸€ä¸ªè¯·æ±‚ä»¥åç¼“å­˜å‘½ä¸­å‘½ä¸­ï¼Œåšåˆ°Oï¼ˆ1ï¼‰æŸ¥è¯¢ // åŒæ—¶è¿˜éœ€è¦æŠŠç”¨è¿‡çš„æ”¾åˆ°é˜Ÿå°¾ï¼Œå› æ­¤ç›´æ¥å­˜é“¾è¡¨èŠ‚ç‚¹æ–¹ä¾¿æ“ä½œã€‚ // q2:æ—¢ç„¶ Map é‡Œå·²ç»æœ‰ Key äº†ï¼Œä¸ºä»€ä¹ˆé“¾è¡¨èŠ‚ç‚¹é‡Œè¿˜è¦å†å­˜ä¸€æ¬¡ Key // a2:åœ¨ç§»é™¤é˜Ÿé¦–å…ƒç´ æ—¶åŒæ—¶éœ€è¦åˆ é™¤mapä¸­å…ƒç´ ï¼Œå› æ­¤å­˜ä¸€ä¸ªkeyæ–¹ä¾¿Oï¼ˆ1ï¼‰æ—¶é—´åšåˆ°åˆ é™¤ã€‚ type Cache struct { maxBytes int64 nowBytes int64 ll *list.List cache map[string]*list.Element OnEvicted func(key string, value Value) } // ä½œä¸ºelementçš„ç±»å‹ type entry struct { key string value Value } type Value interface { Len() int } // åˆå§‹åŒ–Cache func New(maxBytes int64, onEvicted func(string, Value)) *Cache { return &Cache{ maxBytes: maxBytes, ll: list.New(), cache: make(map[string]*list.Element), OnEvicted: onEvicted, } } // æŸ¥æ‰¾åŠŸèƒ½ // eleä¸­Valueæ˜¯ç©ºæ¥å£ç±»å‹éœ€è¦æŒ‡å‘ä¸€ä¸ªæŒ‡é’ˆç±»å‹ï¼Œè¡¨æ˜å­˜çš„æ˜¯è¿™ä¸ªç±»å‹çš„å˜é‡ã€‚ func (c *Cache) Get(key string) (Value, bool) { ele, ok := c.cache[key] if !ok { return nil, false } c.ll.MoveToBack(ele) //ç±»å‹æ–­è¨€ return ele.Value.(*entry).value, true } func (c *Cache) RemoveOldest() { ele := c.ll.Front() if ele != nil { c.ll.Remove(ele) kv := ele.Value.(*entry) delete(c.cache, kv.key) c.nowBytes -= int64(len(kv.key)) + int64(kv.value.Len()) if c.OnEvicted != nil { c.OnEvicted(kv.key, kv.value) } } } // æ–°å¢/ä¿®æ”¹ func (c *Cache) Add(key string, value Value) { if ele, ok := c.cache[key]; ok { c.ll.MoveToBack(ele) kv := ele.Value.(*entry) c.nowBytes += int64(value.Len()) - int64(kv.value.Len()) kv.value = value } else { ele := c.ll.PushBack(&entry{key, value}) c.cache[key] = ele c.nowBytes += int64(len(key)) + int64(value.Len()) } for c.maxBytes != 0 && c.maxBytes c.nowBytes { c.RemoveOldest() } }"},{"title":"Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬å…­å¤© é”™è¯¯æ¢å¤(Panic Recover)","url":"/post/gee-day7.html","count":65,"user":"joewongex","icon":"https://avatars.githubusercontent.com/u/3851177?v=4","date":"1æœˆå‰","body":"ä½ å¥½ï¼Œä½ çš„é‚®ä»¶æˆ‘å·²æ”¶åˆ°"},{"title":"Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬å…­å¤© æ¨¡æ¿(HTML Template)","url":"/post/gee-day6.html","count":31,"user":"weiyi-ch","icon":"https://avatars.githubusercontent.com/u/206409137?v=4","date":"1æœˆå‰","body":"Day6 å¯¹htmlæŒæ¡æ¯”è¾ƒæµ…è–„ï¼Œç†äº†å¥½ä¹…æ€è·¯ï¼Œæœ‰é—®é¢˜è¯·æŒ‡å‡ºã€‚ //Part1 // å°†staticæ–¹æ³•æš´éœ²ç»™ç”¨æˆ· // ç”¨æˆ·ç›´æ¥å°†è·¯ç”±æŒ‡å‘éœ€è¦è¯»å–çš„ç›®å½• // staticæ–¹æ³•è°ƒç”¨ createStaticHandlerï¼Œé¦–å…ˆæ‹¼å¥½ç»å¯¹è·¯å¾„ // å…¶å®http.FileServer(fs)èƒ½å¤Ÿç›´æ¥ç”Ÿæˆä¸€ä¸ªhandlerä½†æ˜¯é‚£ä¹ˆä¼šç›´æ¥å»è·¯å¾„ä¸‹æ‰¾å¸¦æœ‰å‰ç¼€è·¯ç”±çš„æ–‡ä»¶ï¼Œæ‰¾ä¸åˆ°ã€‚ // å› æ­¤åº”è¯¥ç»™http.FileServer(fs)å°è£…æˆèƒ½å¤Ÿå»é™¤c.Reqçš„å‰ç¼€è·¯ç”±çš„æ–‡ä»¶æœåŠ¡å™¨ // å¢åŠ http.StripPrefixï¼Œå®é™…ä¸Šæ˜¯æ›¿æ¢äº†reqä¸­çš„URL.Path // å¾—åˆ°ä¼ å…¥å®Œæ•´è·¯å¾„ï¼Œåªå¯»æ‰¾æ–‡ä»¶çš„æ•ˆæœ // staticä¸­åœ¨å¯¹è·¯ç”±ç”¨å¤„ç†çš„handleræ³¨å†Œï¼Œåé¢å°±å¯ä»¥ç›´æ¥æ‰¾åˆ°æ–‡ä»¶ã€‚ // Part2 // åœ¨engineä¸­æ·»åŠ *template.Templateï¼Œå°†æ‰€æœ‰çš„æ¨¡æ¿åŠ è½½è¿›å†…å­˜ // å¯¹åº”LoadHTMLGlobæ–¹æ³•ï¼Œåˆå§‹åŒ–ç©ºæ ¹æ¨¡æ¿å¯¹è±¡ï¼Œè§£æfuncmapåˆ°æ¨¡æ¿å¯¹è±¡ä¸­å» // æ‰«æç¡¬ç›˜å¯»æ‰¾æ¨¡æ¿æ–‡ä»¶è§£æå­˜å…¥ä»“åº“ï¼ˆengine.htmlTemplatesï¼‰ // funcmap // å®šä¹‰æ¨¡æ¿å’Œå‡½æ•°æ¸²æŸ“å…³ç³» // æ•°æ®ç»“æ„ï¼štemplate.FuncMap æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª map[string]interface{}ã€‚ // Key: åœ¨ HTML æ¨¡æ¿ä¸­è°ƒç”¨çš„åå­—ï¼ˆä¾‹å¦‚ \"formatDate\"ï¼‰ã€‚ // Value: å®é™…æ‰§è¡Œçš„ Go å‡½æ•°é€»è¾‘ã€‚ // å‘Šè¯‰å¼•æ“ï¼šå¦‚æœåœ¨ HTML é‡Œçœ‹åˆ° \"FormatAsDate\"ï¼Œå°±æ‰§è¡Œè¿™é‡Œçš„ FormatAsDate å‡½æ•°ã€‚ // Part3 // æ–°å¢Htmlæ–¹æ³• // ä¼ å…¥å“åº”ç ï¼Œæ¸²æŸ“æ¨¡æ¿åï¼Œä»¥åŠå‚æ•°ååŠå€¼ã€‚ // è°ƒç”¨äº†engineï¼Œå› æ­¤åœ¨åˆå§‹åŒ–contextéœ€è¦æ–°å¢å­—æ®µengineã€‚"},{"title":"åŠ¨æ‰‹å†™åˆ†å¸ƒå¼ç¼“å­˜ - GeeCacheç¬¬ä¸ƒå¤© ä½¿ç”¨ Protobuf é€šä¿¡","url":"/post/geecache-day7.html","count":48,"user":"lyisbest","icon":"https://avatars.githubusercontent.com/u/93139344?v=4","date":"2æœˆå‰","body":"æ‚¨çš„æ¥ä¿¡æˆ‘å·²æ”¶åˆ°ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œæˆ‘ä¼šå°½å¿«å¤„ç†ï¼"},{"title":"Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬äº”å¤© ä¸­é—´ä»¶Middleware","url":"/post/gee-day5.html","count":72,"user":"weiyi-ch","icon":"https://avatars.githubusercontent.com/u/206409137?v=4","date":"2æœˆå‰","body":"// day5ä¸­é—´ä»¶ // åœ¨è·¯ç”±åˆ†ç»„é‡Œæ·»åŠ ä¸­é—´ä»¶ç”¨äºæ§åˆ¶ï¼Œå¯ä»¥åœ¨engineé‡Œæ·»åŠ ç›¸å½“äºæ‰€æœ‰è·¯ç”±éƒ½ä½¿ç”¨è¿™ä¸ªä¸­é—´ä»¶ã€‚ // groupé‡ŒåŸæœ¬å°±æœ‰middlewareså­—æ®µï¼Œå› æ­¤æ–°å»ºuseæ–¹æ³•å¯ä»¥å°†middlewareæ·»åŠ è¿›groupçš„middlewareså­—æ®µã€‚ // éœ€è¦æ‰§è¡Œä¸­é—´ä»¶ï¼Œå› æ­¤åœ¨contextä¸­ä¸ä»…ä»…è®°å½•handlerså­—æ®µï¼Œå¯¹åº”æŸä¸ªè¯·æ±‚åˆå§‹åŒ–contextæ—¶ä¾¿å¯å°†å…¶æ‰€åœ¨æ‰€æœ‰åˆ†ç»„çš„ // ä¸­é—´ä»¶å…¨éƒ¨æ³¨å†Œåˆ°handlersä¸­å»ï¼Œåé¢åœ¨è·¯ç”±æ ‘ä¸­å¯»æ‰¾å¯¹åº”èŠ‚ç‚¹nåï¼Œå°†nçš„patternå­—æ®µä½œä¸ºkeyå¯ä»¥å°†å¯¹åº”è·¯ç”±çš„æ–¹æ³•åŠ å…¥åˆ°handlers1ä¸­ã€‚ // æœ€åæ‰§è¡Œnextæ–¹æ³• // nextæ§åˆ¶handlersä¸­å‡½æ•°è¿è¡Œï¼Œå› æ­¤éœ€è¦åœ¨contextä¸­å¢åŠ indexå­—æ®µï¼Œæ¥æ§åˆ¶handlersè¿è¡Œè¿›åº¦ // indexåˆå§‹åŒ–ä¸º-1ï¼Œæ‰§è¡Œc.Nextæ—¶ï¼Œæ¥¼ä¸‹æœ‹å‹è®²çš„å¾ˆå¥½ï¼Œå› ä¸ºåŒä¸€æ§åˆ¶c.indexå­—æ®µä¸ä¼šå‡ºç°é‡å¤æ‰§è¡Œå¤šä¸ªä¸­é—´ä»¶çš„é—®é¢˜ã€‚ // æœ€åæ‰§è¡Œå®Œhandlersä¸­æ‰€æœ‰ä¸­é—´ä»¶åŠhandler"},{"title":"Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬å››å¤© åˆ†ç»„æ§åˆ¶Group","url":"/post/gee-day4.html","count":63,"user":"weiyi-ch","icon":"https://avatars.githubusercontent.com/u/206409137?v=4","date":"2æœˆå‰","body":"// day4 // æ–°å»ºè·¯ç”±åˆ†ç»„åŠŸèƒ½ // å¯¹äºrouterGroup // å‰ç¼€ ç”¨äºè®°å½•å½“å‰è·¯å¾„ // ä¸­é—´ä»¶ è®°å½•å½“å‰åˆ†ç»„é€‚ç”¨ä¸­é—´ä»¶ // çˆ¶åˆ†ç»„:æ‹¼æ¥å‰ç¼€æ˜¯åœ¨å½“å‰groupçš„åŸºç¡€ä¸Šæ–°å»ºä¸‹å±‚gruopï¼Œå°†å½“å‰groupçš„prefixå’Œä¸‹å±‚æ–°prefixæ‹¼æ¥å³å¯ï¼Œä¸å½“å‰çš„parentæ— å…³ï¼Œ // ä»¥åŠé€»è¾‘ç®¡è¾–ï¼Œåœ¨æ–°å»ºåˆ†ç»„æ—¶å°±å¯ä»¥è®°å½•åˆ†ç»„å…³ç³»ï¼Œæ„Ÿè§‰parentè®°å½•æ²¡æœ‰å¤ªå¤§ç”¨ï¼Œçœ‹äº†ä¸€ä¸‹ginæºç å¥½åƒç¡®å®æ²¡æœ‰ã€‚ // å¼•æ“ï¼šç”¨äºå®ç°ç›´æ¥ä½¿ç”¨åˆ†ç»„æ³¨å†Œè·¯ç”±ï¼Œå› ä¸ºå¼•æ“ä¸­æœ‰routerå®ç°addRouteæ–¹æ³• // å¼•æ“ä¸­å†…åµŒgroupåŸå› ã€‚é€»è¾‘æ˜¯å¼•æ“æ˜¯æœ€å¤§çš„åˆ†ï¼Œprefixä¸ºâ€œ/â€ï¼Œå†…åµŒä¸€ä¸ªrouterGroupå¯ä»¥ç»§æ‰¿groupæ–¹æ³•ï¼Œå¯ä»¥åœ¨å¼•æ“ä¸Šç›´æ¥åˆ›å»ºæ–°åˆ†ç»„ã€‚"},{"title":"Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬ä¸‰å¤© è·¯ç”±Router","url":"/post/gee-day3.html","count":101,"user":"yufeifly","icon":"https://avatars.githubusercontent.com/u/20283879?v=4","date":"2æœˆå‰","body":"æ‚¨å¥½ï¼Œæ‚¨çš„é‚®ä»¶å·²æ”¶åˆ°ï¼Œè°¢è°¢ã€‚â€”â€”ç†Šå®‡é£"},{"title":"Goè¯­è¨€åŠ¨æ‰‹å†™Webæ¡†æ¶ - Geeç¬¬äºŒå¤© ä¸Šä¸‹æ–‡Context","url":"/post/gee-day2.html","count":56,"user":"weiyi-ch","icon":"https://avatars.githubusercontent.com/u/206409137?v=4","date":"2æœˆå‰","body":"æˆ‘çš„ç†è§£ï¼š // å¿…é¡»è¦å®ç°serveHTTPæ–¹æ³• // gee.go å®šä¹‰engineæ–¹æ³•å®é™…ä¸Šæ˜¯å°†æ–¹æ³•å’Œå¯¹åº”å‡½æ•°æ³¨å†Œè¿›è·¯ç”±è¡¨routerã€‚ // router.go å®šä¹‰ä¸€ä¸ªrouteråŒ…å«handlers map è®°å½•æ‰€æœ‰æ–¹æ³•å’Œå¯¹åº”å‡½æ•°ï¼Œå¹¶å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚ // contextå‡½æ•°å½“è¯·æ±‚æ¥ä¸´æ—¶ï¼Œæ–°å»ºä¸€ä¸ªcontextåŒ…å«respå’Œreqï¼Œé€šè¿‡routerä¸­è·¯ç”±mapè·å¾—å¯¹åº”handlerè¿›è¡Œå¤„ç†ï¼Œå‡½æ•°å†…éƒ¨è°ƒç”¨contextæ–¹æ³•å®ç°å†™å…¥ï¼Œç„¶ååˆ©ç”¨cä¸­writerå†™å…¥ã€‚"},{"title":"åŠ¨æ‰‹å†™RPCæ¡†æ¶ - GeeRPCç¬¬äº”å¤© æ”¯æŒHTTPåè®®","url":"/post/geerpc-day5.html","count":43,"user":"Lirous587","icon":"https://avatars.githubusercontent.com/u/143982307?v=4","date":"2æœˆå‰","body":"@fanandli å…”å¤§ï¼Œè¿™é‡Œçš„åŠŸèƒ½æ˜¯ä¸æ˜¯å°±æ˜¯ç”¨httpå»ºç«‹è¿æ¥ï¼Œç„¶åå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ•°æ®è¿˜æ˜¯ç”¨çš„æˆ‘ä»¬å®ç°çš„æ ¼å¼ä¼ è¾“ã€‚é‚£â€œå®Œæ•´â€çš„æ”¯æŒhttpæ˜¯ä¸æ˜¯å»ºç«‹è¿æ¥ä¹Ÿæ˜¯ç”¨httpï¼Œå®¢æˆ·ç«¯ä¼ æ•°æ®ä¹Ÿæ˜¯httpåè®®æ ¼å¼ï¼Œä¸­é—´éœ€è¦å®ç°ä¸€ä¸ªhttpæ ¼å¼è½¬ä¸ºæˆ‘ä»¬æ ¼å¼çš„åŠŸèƒ½å‘¢ï¼Ÿ å®ç°httpæœ€ç›´è§‚çš„å¥½å¤„å°±æ˜¯ä½ å¯ä»¥åœ¨**åŒä¸€ä¸ªç«¯å£**ä¸Šæä¾›å¾ˆå¤šæœåŠ¡ - /_geerpc_æ˜¯RPCæœåŠ¡ - /debug/geerpcæ˜¯debugé¡µé¢ è¿™å¾ˆæœ‰åˆ©äºè°ƒè¯•å’Œå¯è§†åŒ– é™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥åŸºäºhttpå»å®ç°ä½ è¯´çš„è¿™ç§éœ€æ±‚ æ€»çš„æ¥è¯´äº’è”ç½‘çš„åŸºç¡€è®¾æ–½æ˜¯ä¸º HTTP ä¼˜åŒ–çš„ï¼Œè€Œä¸æ˜¯ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„ TCP åè®®ä¼˜åŒ–çš„ã€‚ æ‰€ä»¥å®ç°httpå¯ä»¥ä¸ºæ¯”è¾ƒæ–¹ä¾¿æ‰©å±•ä¸€äº›é¢å¤–çš„éœ€æ±‚ï¼Œæ¯”å¦‚è¯´å°†RPC ä¼ªè£…æˆ HTTP åè®®ä»¥æ­¤ç»•å¼€é˜²ç«å¢™ï¼Œå®ç°HTTPSå»åŠ å¯†ç­‰"},{"title":"åŠ¨æ‰‹å†™RPCæ¡†æ¶ - GeeRPCç¬¬å››å¤© è¶…æ—¶å¤„ç†(timeout)","url":"/post/geerpc-day4.html","count":36,"user":"Lirous587","icon":"https://avatars.githubusercontent.com/u/143982307?v=4","date":"2æœˆå‰","body":"å…”å…”å†™æ³•å­˜åœ¨çš„é—®é¢˜ä¸»è¦æ˜¯åœ¨è¶…æ—¶çš„æƒ…å†µä¸‹sentæ²¡æ¶ˆè´¹ï¼Œè¿™ä¼šå¯¼è‡´go func ä¸­ sent - struct{}{}ä¸€ç›´é˜»å¡ï¼Œè¿™æ ·goroutineå°±æ³„éœ²äº†ã€‚ å…¶å®handleRequestæ–¹æ³•å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰ç¼“å†²çš„é€šé“å»è§£å†³ï¼Œé€»è¾‘æ¸…æ™°ä¸€ç‚¹ ï¼Œè€Œä¸”å¯ä»¥é¿å…goroutineæ³„éœ²ã€‚ è¿™ä¸ªæ—¶å€™å³ä½¿è¶…æ—¶ go func ä¸­ sent - struct{}{} ä¹Ÿå¯ä»¥è¢«æ¶ˆè´¹ï¼Œç„¶åå°±ä¼šé€€å‡ºgoroutineï¼Œä¹Ÿå°±ä¸ä¼šå¯¼è‡´æ³„éœ²äº†ã€‚ ```go func (server *Server) handleRequest(cc codec.Codec, req *request, sending *sync.Mutex, wg *sync.WaitGroup, timeout time.Duration) { defer wg.Done() // use a buffered channel to receive completion signals to prevent goroutine leaks. finished := make(chan error, 1) go func() { err := req.svc.call(req.mtype, req.argv, req.replyv) finished - err }() if timeout == 0 { err := -finished if err != nil { req.h.Error = err.Error() server.sendResponse(cc, req.h, invalidRequset, sending) return } server.sendResponse(cc, req.h, req.replyv.Interface(), sending) return } select { case -time.After(timeout): // timeout req.h.Error = fmt.Errorf(\"rpc server: request handle timeout: expect within %d\", timeout).Error() server.sendResponse(cc, req.h, invalidRequset, sending) case err := -finished: // no timeout if err != nil { req.h.Error = err.Error() server.sendResponse(cc, req.h, invalidRequset, sending) return } server.sendResponse(cc, req.h, req.replyv.Interface(), sending) } } ```"},{"title":"Go RPC & TLS é‰´æƒç®€æ˜æ•™ç¨‹","url":"/post/quick-go-rpc.html","count":5,"user":"shigubin","icon":"https://avatars.githubusercontent.com/u/35258223?v=4","date":"2æœˆå‰","body":"@geektutu listener.Accept() é˜»å¡ç­‰å¾…å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥ï¼Œå»ºç«‹è¿æ¥åäº¤ç»™ rpc.ServeConn å¼‚æ­¥å¤„ç†ã€‚å› ä¸ºå¯èƒ½æœ‰å¤šä¸ªå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼Œæ‰€ä»¥éœ€è¦æ— é™å¾ªç¯ï¼Œæ¯å»ºç«‹ä¸€ä¸ªé“¾æ¥ï¼Œå°±å¼‚æ­¥å¤„ç†ï¼Œç„¶åç»§ç»­ç­‰å¾…ä¸‹ä¸€ä¸ªè¿æ¥å»ºç«‹ã€‚ è¿™é‡Œçš„deferæˆ‘æœ‰ç‚¹ä¸ç†è§£ï¼Œdeferä¼šè·Ÿåˆ°goåç¨‹å»ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯åº”è¯¥å§defer close connæ”¾åˆ°goåç¨‹é‡Œé¢å¤„ç†æ‰åˆé€‚ã€‚"},{"title":"åšå®¢æŠ˜è…¾è®°(å…­) - ä¸è¦ä¸ºäº†æµé‡å¿˜è®°äº†åˆå¿ƒ","url":"/post/blog-experience-6.html","count":8,"user":"codingmonkey9","icon":"https://avatars.githubusercontent.com/u/46665902?v=4","date":"4æœˆå‰","body":"éå¸¸ç‰›é€¼ï¼Œrespectï¼ï¼ï¼"},{"title":"åŠ¨æ‰‹å†™åˆ†å¸ƒå¼ç¼“å­˜ - GeeCacheç¬¬å…­å¤© é˜²æ­¢ç¼“å­˜å‡»ç©¿","url":"/post/geecache-day6.html","count":39,"user":"qaz97877","icon":"https://avatars.githubusercontent.com/u/93694795?v=4","date":"6æœˆå‰","body":"è¿™ä¸ªå®ç°è¿˜æ˜¯éå¸¸ç®€é™‹çš„ï¼Œæ ¹æœ¬ç»ä¸ä½é¢è¯•å®˜é—®ã€‚å¦‚æœæ˜¯åŒä¸€æ—¶é—´æ®µå†…å¤§é‡ç›¸åŒçš„keyè®¿é—®ï¼Œä¼šä½¿ç”¨ä¸Šè¿°çš„æ–¹æ³•å¤„ç†ï¼Œ1å¦‚æœé¦–ä¸ªæŸ¥è¯¢è€—æ—¶è¾ƒé•¿ï¼Œå…¶ä»–çš„å¤§é‡é˜»å¡goroutineéƒ½ä¼šå †ç§¯ï¼Œå¯¼è‡´å†…å­˜å’Œè°ƒåº¦å¼€é”€å¤§ï¼›2æ¯æ¬¡è¯·æ±‚ç»“æŸååˆ é™¤keyï¼Œä¸‹ä¸€æ³¢ç›¸åŒkeyè¯·æ±‚è¿˜æ˜¯è¦é‡å¤å®Œæ•´æµç¨‹ï¼›3å…¨å±€äº’æ–¥é”åœ¨è¶…é«˜å¹¶å‘ä¸‹æœ‰ç«äº‰é—®é¢˜ã€‚å¦‚æœæ˜¯åŒä¸€æ—¶é—´æ®µå†…å¤§é‡ä¸åŒçš„keyè®¿é—®ï¼Œä½¿ç”¨ä¸Šè¿°çš„æ–¹æ³•ä»ç„¶ä¼šå¯¼è‡´ç¼“å­˜å‡»ç©¿"},{"title":"Go æ¥å£å‹å‡½æ•°çš„ä½¿ç”¨åœºæ™¯","url":"/post/7days-golang-q1.html","count":13,"user":"qaz97877","icon":"https://avatars.githubusercontent.com/u/93694795?v=4","date":"6æœˆå‰","body":"ç”¨C++çš„æ¥ç±»æ¯”çš„è¯ï¼Œå°±åƒç”¨functionå°è£…äº†å¯¹åº”å‚æ•°çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œç”¨äºå¯¹å¤–æä¾›ç»Ÿä¸€çš„æ¥å£"},{"title":"åŠ¨æ‰‹å†™RPCæ¡†æ¶ - GeeRPCç¬¬ä¸ƒå¤© æœåŠ¡å‘ç°ä¸æ³¨å†Œä¸­å¿ƒ(registry)","url":"/post/geerpc-day7.html","count":26,"user":"U317-AleX","icon":"https://avatars.githubusercontent.com/u/190333119?v=4","date":"6æœˆå‰","body":"@SCUTking æ„Ÿè§‰registryä¸discoverè¿™ä¸¤ä¸ªä¸œè¥¿å¯ä»¥åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·å°±ä¸ç”¨discoverå†å»å‘ç»™è¯·æ±‚è·å–registryçš„æ•°æ®äº†ã€‚ discoveræ˜¯ç”¨åœ¨å®¢æˆ·ç«¯ï¼Œregistryæ˜¯ç”¨åœ¨æ³¨å†Œä¸­å¿ƒï¼Œä¸¤è€…åœ¨ç‰©ç†ä¸Šéƒ½æ˜¯éš”ç¦»çš„ï¼Œåº”è¯¥ä¸èƒ½æ”¾ä¸€èµ·ã€‚è¿™æ ·åˆ†å¼€çš„ç›®çš„æ­£æ˜¯å¾®æœåŠ¡æ¶æ„çš„åŸºæœ¬æ€æƒ³ã€‚"},{"title":"åŠ¨æ‰‹å†™RPCæ¡†æ¶ - GeeRPCç¬¬å…­å¤© è´Ÿè½½å‡è¡¡(load balance)","url":"/post/geerpc-day6.html","count":16,"user":"U317-AleX","icon":"https://avatars.githubusercontent.com/u/190333119?v=4","date":"6æœˆå‰","body":"@winterszhangdong @gnehcein è¯è¯´ if err == nil && !replyDone { reflect.ValueOf(reply).Elem().Set(reflect.ValueOf(clonedReply).Elem()) replyDone = true } ä¸­çš„reflect.valueof(reply).Elem()...è¿™ä¸€å¥ å¦‚æœæ”¹æˆreply=clonedeReply mainä¹Ÿèƒ½æ­£å¸¸è¿è¡Œï¼Œè¯·é—®è¿™ä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¥½åƒåªæ˜¯å˜æˆäº†é—­åŒ…æ•ˆæœè€Œå·²ã€‚ã€‚ æˆ‘ä¹Ÿæœ‰ä¸€æ ·çš„ç–‘é—®ï¼Œä¼¼ä¹ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Ÿ reply = clonedReply åªæ˜¯ä¿®æ”¹äº†å‡½æ•°å†…éƒ¨çš„æŒ‡é’ˆå€¼å‰¯æœ¬â€œreplyâ€çš„å€¼ï¼Œå¹¶æ²¡æœ‰ä¿®æ”¹å‡½æ•°å¤–replyæŒ‡å‘çš„å†…å­˜ã€‚"},{"title":"åŠ¨æ‰‹å†™åˆ†å¸ƒå¼ç¼“å­˜ - GeeCacheç¬¬äº”å¤© åˆ†å¸ƒå¼èŠ‚ç‚¹","url":"/post/geecache-day5.html","count":93,"user":"zark12138","icon":"https://avatars.githubusercontent.com/u/125602437?v=4","date":"8æœˆå‰","body":"è¿™ä¸ªè¯·æ±‚è½¬å‘çœ‹ç€æœ‰ç‚¹å¤´æ™•ï¼Œä»¥ä¸‹æ˜¯ä¸ªäººç†è§£ æŒ‰ç…§è„šæœ¬å¯åŠ¨ï¼Œ8001å’Œ8002æ˜¯ä¸¤ä¸ªå•ç‹¬çš„å®ä¾‹ï¼Œåœ¨å¯åŠ¨8003çš„æ—¶å€™ä¼šå¦å¼€ä¸€ä¸ªåç¨‹å¯åŠ¨apiæœåŠ¡ï¼ŒapiæœåŠ¡æ˜¯ç”¨æˆ·æˆ–è®¸ç¼“å­˜çš„å…¥å£ï¼Œè€Œåœ¨ä»£ç ä¸­ ```go gee := createGroup() if api { // å°†geeç¼“å­˜ä¼ ç»™apiå®ä¾‹ go startAPIServer(apiAddr, gee) } // å°†geeç¼“å­˜ä¼ ç»™8003å®ä¾‹ï¼Œå’Œä¸Šé¢çš„geeæ˜¯åŒä¸€ä¸ª startCacheServer(addrMap[port], addrs, gee) ``` 8003å®ä¾‹å’Œapiå®ä¾‹æ˜¯å…±äº«ä¸€ä¸ªâ€œgeeâ€ç¼“å­˜çš„ï¼Œå½“apiæœåŠ¡æ¥æ”¶åˆ°è¯·æ±‚çš„æ—¶ï¼Œä¼šå°è¯•ä»geeä¸­è·å–ç¼“å­˜ï¼Œå¦‚æœè·å–ä¸åˆ°ï¼Œåˆ™æ ¹æ®keyä»å“ˆå¸Œç¯ä¸­è·å–å¯¹åº”çš„èŠ‚ç‚¹åœ°å€ï¼Œå†æ¬¡è¯·æ±‚ç¼“å­˜ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥çœ‹å‡º8003å®é™…ä¸Šä¸ä¼šæ¥æ”¶åˆ°ä»»ä½•è¯·æ±‚çš„ï¼Œå› ä¸º8003çš„æ•°æ®å’Œapiçš„æ•°æ®æ˜¯ç›¸åŒçš„ï¼Œå¦‚æœapiæœ¬èº«æ‰¾ä¸åˆ°æ•°æ®ï¼Œé‚£è‡ªç„¶ä¸ä¼šå“ˆå¸Œåˆ°8003ä¸Š æœ¬äººä¹Ÿæ˜¯å°ç™½å­¦ä¹ ï¼Œä»å­¦ä¹ è§’åº¦æ¥è¯´ï¼Œå¯ä»¥å°†apiæœåŠ¡å•ç‹¬æ‹¿å‡ºæ¥ä½œä¸ºä¸€ä¸ªä¸­è½¬ç«™æ¥ä½¿ç”¨ï¼Œä»…ä»…æä¾›æ ¹æ®keyè·å–å¯¹åº”èŠ‚ç‚¹çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯ä¸æŸä¸€ä¸ªèŠ‚ç‚¹è€¦åˆåœ¨ä¸€èµ·ï¼Œä¼šæ›´æœ‰åˆ©äºç†è§£å­¦ä¹ "},{"title":"åŠ¨æ‰‹å†™ORMæ¡†æ¶ - GeeORMç¬¬äº”å¤© å®ç°é’©å­(Hooks)","url":"/post/geeorm-day5.html","count":8,"user":"zark12138","icon":"https://avatars.githubusercontent.com/u/125602437?v=4","date":"8æœˆå‰","body":"é åå­—å»æ‹¿ä¹Ÿå¤ªéªšäº†å“ˆå“ˆï¼Œæ”¹æˆæ¥å£å°±å¥½äº†ï¼Œä¸‹é¢å·²ç»æœ‰å¤§ä½¬å®ç°äº†"},{"title":"åŠ¨æ‰‹å†™ORMæ¡†æ¶ - GeeORMç¬¬ä¸‰å¤© è®°å½•æ–°å¢å’ŒæŸ¥è¯¢","url":"/post/geeorm-day3.html","count":28,"user":"zark12138","icon":"https://avatars.githubusercontent.com/u/125602437?v=4","date":"8æœˆå‰","body":"```go // åŸä»£ç  func (s *Session) Insert(values ...interface{}) (int64, error) { recordValues := make([]interface{}, 0) for _, value := range values { table := s.Model(value).RefTable() s.clause.Set(clause.INSERT, table.Name, table.FieldNames) recordValues = append(recordValues, table.RecordValues(value)) } ........ } ``` ä¸ªäººæ„Ÿè§‰åŸä»£ç ä¸­è¿™ä¸ªInsertå‡½æ•°ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å¯¹åŒä¸€å¼ è¡¨çš„ç›¸åŒå­—æ®µå»åšæ’å…¥çš„ï¼Œæ²¡å¿…è¦æ¯ä¸ªvalueéƒ½åšä¸€æ¬¡ç›¸åŒçš„insertè§£ææ“ä½œï¼Œå¯ä»¥æŠ½å–å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š ```go func (s *Session) Insert(values ...interface{}) (int64, error) { recordValues := make([]interface{}, 0) if len(values) == 0 { return 0, nil } table := s.Model(values[0]).RefTable() s.clause.Set(clause.INSERT, table.Name, table.FieldNames) for _, value := range values { recordValues = append(recordValues, table.RecordValues(value)) } ........ } ``` ç»è¿‡ç®€å•æµ‹è¯•ï¼Œè·ŸåŸæ¥çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœ‰é”™è¯¯å¸Œæœ›å¤§ä½¬æŒ‡å‡º"},{"title":"å‹æƒ…é“¾æ¥","url":"/post/link.html","count":44,"user":"xiaoyangst","icon":"https://avatars.githubusercontent.com/u/96154468?v=4","date":"9æœˆå‰","body":"ç«™ç‚¹åç§°ï¼šLinux C/C++ æŠ€æœ¯åˆ†äº« ç«™ç‚¹æè¿°ï¼šåšå®¢æ˜¯è‡ªç”±çš„åœ£åœ° ç«™ç‚¹åœ°å€ï¼šhttps://xiaoyangst.github.io/ å·²åŠ å‹é“¾ âœ…"},{"title":"7å¤©ç”¨Goä»é›¶å®ç°RPCæ¡†æ¶GeeRPC","url":"/post/geerpc.html","count":25,"user":"harusame11","icon":"https://avatars.githubusercontent.com/u/94336438?v=4","date":"9æœˆå‰","body":"25å¹´çœ‹åˆ°çš„æ•™ç¨‹ï¼Œè·Ÿç€å†™åˆ°äº†æœ€åä¸€ä¸ªï¼ŒåŠ æ²¹ï¼"},{"title":"åŠ¨æ‰‹å†™åˆ†å¸ƒå¼ç¼“å­˜ - GeeCacheç¬¬å››å¤© ä¸€è‡´æ€§å“ˆå¸Œ(hash)","url":"/post/geecache-day4.html","count":46,"user":"feng384","icon":"https://avatars.githubusercontent.com/u/76551623?v=4","date":"10æœˆå‰","body":"@YvCeung å¦‚æœhash(key)çš„å€¼å§‹ç»ˆå¤§äºm.Keysçš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆä½¿ç”¨searchå¾—åˆ°çš„idxå§‹ç»ˆæ˜¯Keysçš„é•¿åº¦ï¼Œæœ€ç»ˆå‘½ä¸­çš„æ°¸è¿œéƒ½æ˜¯ç¯ä¸Šçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·ä¼šä¸ä¼šä¸å‡åŒ€ï¼Ÿ hash(key)å¾—åˆ°çš„å€¼æ˜¯å‡åŒ€åˆ†å¸ƒçš„ï¼Œä¸ä¼šä¾èµ–keyçš„å¤§å°ï¼Œæ‰€ä»¥ä¸å¯èƒ½å§‹ç»ˆå¤§äºm.Keysçš„æœ€å¤§å€¼"},{"title":"Go sync.Pool","url":"/post/hpg-sync-pool.html","count":7,"user":"Gaojc1111","icon":"https://avatars.githubusercontent.com/u/102639662?v=4","date":"10æœˆå‰","body":"å¸Œæœ›å¯ä»¥å‡ºä¸€ä¸ªå¤œæ¨¡å¼ï¼Œå¤ªä¼¤çœ¼äº†"},{"title":"åŠ¨æ‰‹å†™RPCæ¡†æ¶ - GeeRPCç¬¬ä¸‰å¤© æœåŠ¡æ³¨å†Œ(service register)","url":"/post/geerpc-day3.html","count":33,"user":"mufenqwq","icon":"https://avatars.githubusercontent.com/u/124140170?v=4","date":"11æœˆå‰","body":"@chenkang-noob è¯·é—®åœ¨newReplyå‡½æ•°ä¸­replyv.Elem().Set(reflect.MakeMap(ReplyType.Elem()))çš„ä½œç”¨æ˜¯ä»€ä¹ˆã€‚ä¼¼ä¹ä¸è¿›è¡Œsetä¹Ÿèƒ½è¿è¡Œ å¦‚æœreplyæ˜¯mapç±»å‹ï¼Œè¿›è¡Œåˆå§‹åŒ–æ“ä½œ"},{"title":"åŠ¨æ‰‹å†™åˆ†å¸ƒå¼ç¼“å­˜ - GeeCacheç¬¬ä¸‰å¤© HTTP æœåŠ¡ç«¯","url":"/post/geecache-day3.html","count":29,"user":"Rinai-R","icon":"https://avatars.githubusercontent.com/u/185916106?v=4","date":"11æœˆå‰","body":"å®Œæˆåˆ°è¿™ä¸€æ­¥ï¼Œæ„Ÿè§‰æœ‰ç‚¹å…´å¥‹äº†~ğŸ¥³ğŸ¥³"},{"title":"åŠ¨æ‰‹å†™ORMæ¡†æ¶ - GeeORMç¬¬å››å¤© é“¾å¼æ“ä½œä¸æ›´æ–°åˆ é™¤","url":"/post/geeorm-day4.html","count":14,"user":"naoki-mars","icon":"https://avatars.githubusercontent.com/u/142970065?v=4","date":"1å¹´å‰","body":"@ShiMaRing @xiaoheng14 s.Raw().Exec()ä¸­çš„æ–¹æ³•Execæœ‰clearçš„äº†ã€‚ é‚£ä¸ªclearæ¸…ç©ºçš„æ˜¯stringBuilderä¸­ç¼“å­˜çš„sqlè¯­å¥ï¼Œè€Œä¸æ˜¯å­å¥ä¸­çš„å„ä¸ªæ¡ä»¶ ç¬¬ä¸‰å¤©å®ç°InsertåŠŸèƒ½æ—¶ä¿®æ”¹è¿‡Clearæ–¹æ³•ï¼Œä¼šæ¸…ç©ºå­å¥"},{"title":"å‡å° Go ä»£ç ç¼–è¯‘åçš„äºŒè¿›åˆ¶ä½“ç§¯","url":"/post/hpg-reduce-size.html","count":6,"user":"yangliangxii","icon":"https://avatars.githubusercontent.com/u/20268393?v=4","date":"1å¹´å‰","body":"æŒ‰ç…§åšä¸»çš„æ–¹æ³•ï¼Œç¼–è¯‘æ–‡ä»¶å°ºå¯¸åŸºæœ¬ä¸€è‡´"},{"title":"Go è¯­è¨€é«˜æ€§èƒ½ç¼–ç¨‹","url":"/post/high-performance-go.html","count":14,"user":"yangliangxii","icon":"https://avatars.githubusercontent.com/u/20268393?v=4","date":"1å¹´å‰","body":"ç»§ç»­æ›´æ–°~"},{"title":"Go è¯­è¨€é™·é˜± - æ•°ç»„å’Œåˆ‡ç‰‡","url":"/post/hpg-gotchas-array-slice.html","count":24,"user":"yangliangxii","icon":"https://avatars.githubusercontent.com/u/20268393?v=4","date":"1å¹´å‰","body":"çœ‹å®Œåšä¸»å†™çš„æ–‡ç« æ³¨æ„è¿™ç‚¹äº†ã€‚"},{"title":"è¯»å†™é”å’Œäº’æ–¥é”çš„æ€§èƒ½æ¯”è¾ƒ","url":"/post/hpg-mutex.html","count":7,"user":"yangliangxii","icon":"https://avatars.githubusercontent.com/u/20268393?v=4","date":"1å¹´å‰","body":"go test -bench=YLX$ -benchmem . [1 4 9] 16 32 64 128 256 512 896 1408 2048 3072 4096 5376 6912 9472 12288 16384 21760 28672 40960 57344 73728 98304 131072 goos: windows goarch: amd64 pkg: golangspace/jikett/advance cpu: 11th Gen Intel(R) Core(TM) i7-11700 @ 2.50GHz BenchmarkReadMoreYLX-16 1 15451153300 ns/op 654920 B/op 4019 allocs/op BenchmarkReadMoreRWYLX-16 1 1540023200 ns/op 210064 B/op 2282 allocs/op BenchmarkWriteMoreYLX-16 1 15555114200 ns/op 245248 B/op 2856 allocs/op BenchmarkWriteMoreRWYLX-16 1 14095950500 ns/op 214872 B/op 2810 allocs/op BenchmarkEqualRWYLX-16 1 15428445600 ns/op 216928 B/op 2850 allocs/op BenchmarkEqualYLX-16 1 7784441300 ns/op 168608 B/op 2433 allocs/op PASS ok golangspace/jikett/advance 70.426s"},{"title":"Go Reflect æé«˜åå°„æ€§èƒ½","url":"/post/hpg-reflect.html","count":1,"user":"yangliangxii","icon":"https://avatars.githubusercontent.com/u/20268393?v=4","date":"1å¹´å‰","body":"åå°„æ²¡äººå–œæ¬¢å—ï¼Œå‡ºæ¥è®¨è®ºä¸‹~"},{"title":"åˆ‡ç‰‡(slice)æ€§èƒ½åŠé™·é˜±","url":"/post/hpg-slice.html","count":22,"user":"yangliangxii","icon":"https://avatars.githubusercontent.com/u/20268393?v=4","date":"1å¹´å‰","body":"very good !~"},{"title":"benchmark åŸºå‡†æµ‹è¯•","url":"/post/hpg-benchmark.html","count":6,"user":"yangliangxii","icon":"https://avatars.githubusercontent.com/u/20268393?v=4","date":"1å¹´å‰","body":"æŒ‰ç…§åšä¸»çš„è®²è§£å’Œä¾‹å­ï¼Œæ­£åœ¨å­¦ä¹ ä¸­ï¼Œæ„Ÿè§‰åšçš„å¾ˆä¸é”™~"}]